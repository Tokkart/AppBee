{"name": "test_smena_pr", "status": "failed", "statusDetails": {"message": "AssertionError: Ошибка: кнопка \"подключить\" не найдена", "trace": "driver = <appium.webdriver.webdriver.WebDriver (session=\"63a2c97d-f444-4fcb-8600-96fe77689370\")>, file_data = [{'balance': 2500, 'cycle': 'month', 'default': 'no', 'market': 'SCH', ...}]\napp_pages = <tests.conftest.app_pages.<locals>.Pages object at 0x00000237F6D88C20>\n\n    @allure.feature(\"Тестирование тарифа UP\")\n    def test_smena_pr(driver, file_data, app_pages):\n        \"\"\"\n        Запускает тесты на основе данных из файла.\n        \"\"\"\n        # for row in file_data:\n        #     execute_scenario(driver, row, app_pages)\n    \n        for row in file_data:\n>           process_tariff_changes(driver, row, app_pages)\n\ntest_app_android\\project\\tests\\test.py:318: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\ntest_app_android\\project\\tests\\test.py:350: in process_tariff_changes\n    test_plan.test_tariff_price(name = 'подключить')\ntest_app_android\\project\\tests\\test.py:128: in test_tariff_price\n    self.app_pages.tariff_up.button_next_click(name)\ntest_app_android\\project\\pages\\tariff_up_page.py:124: in button_next_click\n    self.up.button_next_click(name)\ntest_app_android\\project\\pages\\tariff_up_page.py:94: in button_next_click\n    self.button_click(name)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <test_app_android.project.pages.tariff_up_page.TariffUpPage object at 0x00000237F701E3C0>, name = 'подключить'\n\n    def button_click(self, name):   #Клик по кнопке оплатить\n       with allure.step(f'Клик по кнопке \"{name}\"'):\n            try:\n                button = self.wait_for_element(AppiumBy.ANDROID_UIAUTOMATOR,f'new UiSelector().text(\"{name}\")')\n>               assert button, f'Ошибка: кнопка \"{name}\" не найдена'\nE               AssertionError: Ошибка: кнопка \"подключить\" не найдена\n\ntest_app_android\\project\\pages\\base_app.py:414: AssertionError"}, "description": "\nЗапускает тесты на основе данных из файла.\n", "steps": [{"name": "Тест-кейс: смена тарифа \"Тариф UP\"", "status": "failed", "statusDetails": {"message": "AssertionError: Ошибка: кнопка \"подключить\" не найдена\n", "trace": "  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\tests\\test.py\", line 350, in process_tariff_changes\n    test_plan.test_tariff_price(name = 'подключить')\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\tests\\test.py\", line 128, in test_tariff_price\n    self.app_pages.tariff_up.button_next_click(name)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\pages\\tariff_up_page.py\", line 124, in button_next_click\n    self.up.button_next_click(name)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\pages\\tariff_up_page.py\", line 94, in button_next_click\n    self.button_click(name)\n    ~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\pages\\base_app.py\", line 414, in button_click\n    assert button, f'Ошибка: кнопка \"{name}\" не найдена'\n           ^^^^^^\n"}, "steps": [{"name": "Переход в каталог тарифов", "status": "passed", "steps": [{"name": "Клик по кнопке \"сменить тариф\"", "status": "passed", "start": 1736937189255, "stop": 1736937189947}], "start": 1736937189255, "stop": 1736937189947}, {"name": "Поиск и выбор тарифа \"Тариф UP\"", "status": "passed", "start": 1736937189947, "stop": 1736937191357}, {"name": "Ожидание загрузки страницы \"тариф up\"", "status": "passed", "start": 1736937191358, "stop": 1736937195584}, {"name": "Выбираем ГБ \"6\"", "status": "passed", "attachments": [{"name": "screenshot", "source": "42abec97-9011-4a12-849d-511e3e5368a5-attachment.png", "type": "image/png"}], "start": 1736937195584, "stop": 1736937196445}, {"name": "Выбираем МИН \"300\"", "status": "passed", "attachments": [{"name": "screenshot", "source": "e127efd2-39d4-4c99-802b-1dcbcea153ad-attachment.png", "type": "image/png"}], "start": 1736937196445, "stop": 1736937200536}, {"name": "Скролл страницы вниз", "status": "passed", "start": 1736937200536, "stop": 1736937202655}, {"name": "Клик по тогглу \"Музыка\"", "status": "passed", "steps": [{"name": "Клик по кнопке \"Музыка\"", "status": "passed", "start": 1736937204775, "stop": 1736937204860}], "start": 1736937202655, "stop": 1736937204860}, {"name": "Проверяем стоимость \"Музыка\"", "status": "broken", "statusDetails": {"message": "selenium.common.exceptions.StaleElementReferenceException: Message: androidx.test.uiautomator.StaleObjectException; For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#stale-element-reference-exception\nStacktrace:\nio.appium.uiautomator2.common.exceptions.StaleElementReferenceException: androidx.test.uiautomator.StaleObjectException\n\tat io.appium.uiautomator2.handler.request.SafeRequestHandler.handle(SafeRequestHandler.java:63)\n\tat io.appium.uiautomator2.server.AppiumServlet.handleRequest(AppiumServlet.java:259)\n\tat io.appium.uiautomator2.server.AppiumServlet.handleHttpRequest(AppiumServlet.java:253)\n\tat io.appium.uiautomator2.http.ServerHandler.channelRead(ServerHandler.java:77)\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:366)\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:352)\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:345)\n\tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:366)\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:352)\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:345)\n\tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:435)\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:293)\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:267)\n\tat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:250)\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:366)\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:352)\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:345)\n\tat io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:266)\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:366)\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:352)\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:345)\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1294)\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:366)\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:352)\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:911)\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:131)\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:611)\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:552)\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:466)\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:438)\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$2.run(SingleThreadEventExecutor.java:140)\n\tat io.netty.util.concurrent.DefaultThreadFactory$DefaultRunnableDecorator.run(DefaultThreadFactory.java:144)\n\tat java.lang.Thread.run(Thread.java:1012)\nCaused by: androidx.test.uiautomator.StaleObjectException\n\tat androidx.test.uiautomator.UiObject2.getAccessibilityNodeInfo(UiObject2.java:1018)\n\tat androidx.test.uiautomator.UiObject2.hashCode(UiObject2.java:139)\n\tat java.lang.Object.toString(Object.java:316)\n\tat java.util.Formatter$FormatSpecifier.printString(Formatter.java:3216)\n\tat java.util.Formatter$FormatSpecifier.print(Formatter.java:3093)\n\tat java.util.Formatter.format(Formatter.java:2704)\n\tat java.util.Formatter.format(Formatter.java:2640)\n\tat java.lang.String.format(String.java:4027)\n\tat io.appium.uiautomator2.utils.ReflectionUtils.invoke(ReflectionUtils.java:85)\n\tat io.appium.uiautomator2.core.AxNodeInfoExtractor.extractAxNodeInfo(AxNodeInfoExtractor.java:58)\n\tat io.appium.uiautomator2.core.AxNodeInfoExtractor.toAxNodeInfo(AxNodeInfoExtractor.java:48)\n\tat io.appium.uiautomator2.model.BaseElement.getBounds(BaseElement.java:171)\n\tat io.appium.uiautomator2.model.UiObject2Element.getAttribute(UiObject2Element.java:133)\n\tat io.appium.uiautomator2.handler.GetElementAttribute.safeHandle(GetElementAttribute.java:24)\n\tat io.appium.uiautomator2.handler.request.SafeRequestHandler.handle(SafeRequestHandler.java:59)\n\t... 33 more\n\n", "trace": "  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\pages\\tariff_up_page.py\", line 49, in dtm_price\n    ap_dtm = self.child_element_ap(name, text_part)\n  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\pages\\base_app.py\", line 489, in child_element_ap\n    parent_element = self.find_parent_element_by_child(child_element)\n  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\pages\\base_app.py\", line 115, in find_parent_element_by_child\n    element_bounds_str = element.get_attribute(\"bounds\")\n  File \"C:\\Users\\verli\\IdeaProjects\\BeelineQA\\venv\\Lib\\site-packages\\appium\\webdriver\\webelement.py\", line 56, in get_attribute\n    resp = self._execute(RemoteCommand.GET_ELEMENT_ATTRIBUTE, {'name': name})\n  File \"C:\\Users\\verli\\IdeaProjects\\BeelineQA\\venv\\Lib\\site-packages\\selenium\\webdriver\\remote\\webelement.py\", line 402, in _execute\n    return self._parent.execute(command, params)\n           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\verli\\IdeaProjects\\BeelineQA\\venv\\Lib\\site-packages\\selenium\\webdriver\\remote\\webdriver.py\", line 384, in execute\n    self.error_handler.check_response(response)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"C:\\Users\\verli\\IdeaProjects\\BeelineQA\\venv\\Lib\\site-packages\\appium\\webdriver\\errorhandler.py\", line 125, in check_response\n    raise exception_class(msg=message, stacktrace=format_stacktrace(stacktrace))\n"}, "start": 1736937204860, "stop": 1736937207740}, {"name": "Проверяем стоимости на кнопке \"Продолжить\"", "status": "failed", "statusDetails": {"message": "AssertionError: Ошибка: неверное значение подключить,должно:640, получено: None\n", "trace": "  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\pages\\tariff_up_page.py\", line 77, in check_button_price\n    assert ap == price, f'Ошибка: неверное значение {name},должно:{price}, получено: {ap}'\n           ^^^^^^^^^^^\n"}, "attachments": [{"name": "Значения цен", "source": "2b4aed99-de39-45f4-a3a2-073542c42ac5-attachment.txt", "type": "text/plain"}, {"name": "Ошибка сравнения цен", "source": "d0955407-6b7d-4c0b-93ab-4ba4a0493fd6-attachment.txt", "type": "text/plain"}, {"name": "Скриншот", "source": "58084c70-5892-4cdb-a1b4-5c64dfc3edfb-attachment.png", "type": "image/png"}], "start": 1736937207831, "stop": 1736937209447}, {"name": "Клик по кнопке \"подключить\"", "status": "failed", "statusDetails": {"message": "AssertionError: Ошибка: кнопка \"подключить\" не найдена\n", "trace": "  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\pages\\tariff_up_page.py\", line 94, in button_next_click\n    self.button_click(name)\n    ~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\pages\\base_app.py\", line 414, in button_click\n    assert button, f'Ошибка: кнопка \"{name}\" не найдена'\n           ^^^^^^\n"}, "steps": [{"name": "Клик по кнопке \"подключить\"", "status": "failed", "statusDetails": {"message": "AssertionError: Ошибка: кнопка \"подключить\" не найдена\n", "trace": "  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\pages\\base_app.py\", line 414, in button_click\n    assert button, f'Ошибка: кнопка \"{name}\" не найдена'\n           ^^^^^^\n"}, "attachments": [{"name": "Ошибка сравнения цен", "source": "d709f528-3ebf-4eff-b693-ba14610ce59a-attachment.txt", "type": "text/plain"}, {"name": "Скриншот", "source": "13f6fdfc-8d05-4159-83b1-24893cef5bc9-attachment.png", "type": "image/png"}], "start": 1736937209449, "stop": 1736937225931}], "start": 1736937209449, "stop": 1736937225932}], "attachments": [{"name": "Ошибка", "source": "0d2ed86b-664e-45be-86be-8888e201128c-attachment.txt", "type": "text/plain"}, {"name": "Ошибка", "source": "f0ab2293-5766-4dd0-ae67-c01a79f3aab2-attachment.txt", "type": "text/plain"}], "start": 1736937182482, "stop": 1736937225933}], "attachments": [{"name": "stdout", "source": "efb92a14-a3fa-45e9-8ce7-9159267cebd0-attachment.txt", "type": "text/plain"}], "start": 1736937182482, "stop": 1736937225935, "uuid": "e265b3f0-42bf-479b-94a4-f951c40b17ed", "historyId": "7e317dec957f8d84ca3cc6ce5c1ea4ff", "testCaseId": "7e317dec957f8d84ca3cc6ce5c1ea4ff", "fullName": "test_app_android.project.tests.test#test_smena_pr", "labels": [{"name": "feature", "value": "Тестирование тарифа UP"}, {"name": "parentSuite", "value": "test_app_android.project.tests"}, {"name": "suite", "value": "test"}, {"name": "host", "value": "DESKTOP-G72BB0H"}, {"name": "thread", "value": "7764-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_app_android.project.tests.test"}]}