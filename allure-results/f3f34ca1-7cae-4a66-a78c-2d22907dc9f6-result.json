{"name": "test_smena_pr", "status": "broken", "statusDetails": {"message": "selenium.common.exceptions.NoSuchElementException: Message: Элемент с текстом \"('-android uiautomator', 'new UiSelector().text(\"70 гб\")')\" не найден; For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#no-such-element-exception", "trace": "self = <test_app_android.project.pages.myproducts_page.MyProductsPage object at 0x0000020B3888A660>, locator_type = '-android uiautomator', locator = 'new UiSelector().text(\"70 гб\")', timeout = 15\n\n    def wait_for_element(self, locator_type, locator, timeout=15):\n        try:\n>           return WebDriverWait(self.driver, timeout).until(\n                EC.presence_of_element_located((locator_type, locator))\n            )\n\ntest_app_android\\project\\pages\\base_app.py:46: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <selenium.webdriver.support.wait.WebDriverWait (session=\"2ea584e5-86aa-4dca-8ac5-289cabb9ab7a\")>, method = <function presence_of_element_located.<locals>._predicate at 0x0000020B3895A980>, message = ''\n\n    def until(self, method: Callable[[D], Union[Literal[False], T]], message: str = \"\") -> T:\n        \"\"\"Calls the method provided with the driver as an argument until the \\\n        return value does not evaluate to ``False``.\n    \n        :param method: callable(WebDriver)\n        :param message: optional message for :exc:`TimeoutException`\n        :returns: the result of the last call to `method`\n        :raises: :exc:`selenium.common.exceptions.TimeoutException` if timeout occurs\n        \"\"\"\n        screen = None\n        stacktrace = None\n    \n        end_time = time.monotonic() + self._timeout\n        while True:\n            try:\n                value = method(self._driver)\n                if value:\n                    return value\n            except self._ignored_exceptions as exc:\n                screen = getattr(exc, \"screen\", None)\n                stacktrace = getattr(exc, \"stacktrace\", None)\n            if time.monotonic() > end_time:\n                break\n            time.sleep(self._poll)\n>       raise TimeoutException(message, screen, stacktrace)\nE       selenium.common.exceptions.TimeoutException: Message: \nE       Stacktrace:\nE       NoSuchElementError: An element could not be located on the page using the given search parameters.\nE           at AndroidUiautomator2Driver.findElOrEls (C:\\Users\\verli\\.appium\\node_modules\\appium-uiautomator2-driver\\node_modules\\appium-android-driver\\lib\\commands\\find.ts:86:11)\nE           at processTicksAndRejections (node:internal/process/task_queues:105:5)\nE           at AndroidUiautomator2Driver.findElOrElsWithProcessing (C:\\Users\\verli\\AppData\\Roaming\\npm\\node_modules\\appium\\node_modules\\@appium\\base-driver\\lib\\basedriver\\commands\\find.ts:60:12)\nE           at AndroidUiautomator2Driver.findElement (C:\\Users\\verli\\AppData\\Roaming\\npm\\node_modules\\appium\\node_modules\\@appium\\base-driver\\lib\\basedriver\\commands\\find.ts:75:12)\n\n..\\BeelineQA\\venv\\Lib\\site-packages\\selenium\\webdriver\\support\\wait.py:105: TimeoutException\n\nDuring handling of the above exception, another exception occurred:\n\ndriver = <appium.webdriver.webdriver.WebDriver (session=\"2ea584e5-86aa-4dca-8ac5-289cabb9ab7a\")>\nfile_data = [{'balance': 2500, 'cycle': 'month', 'default': 'no', 'market': 'SCH', ...}, {'balance': 2500, 'cycle': 'month', 'default': 'no', 'market': 'SCH', ...}, {'balance': 2500, 'cycle': 'month', 'default': 'no', 'market': 'SCH', ...}]\napp_pages = <test_app_android.project.tests.conftest.app_pages.<locals>.Pages object at 0x0000020B385A8AD0>\n\n    @allure.feature(\"Тестирование тарифа UP\")\n    def test_smena_pr(driver, file_data, app_pages):\n        #:param row_indices: Индекс строки для запуска (начиная с 0).\n        row_indices = (0, 2)\n        # row_indices=None запускаются все строки\n        # row_indices=[0] запуск одной строки, 0 эта первая строка теста\n        # row_indices=[1, 2] запуск нескольких строк\n        # row_indices=range(1, 4) запускается диапазон строк\n        \"\"\"\n        Тестирование тарифа UP\n        \"\"\"\n        if row_indices is not None:\n            # Запускаем только указанные строки по индексам\n            for index in row_indices:\n>               process_tariff_changes(driver, file_data[index], app_pages)\n\ntest_app_android\\project\\tests\\test.py:328: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\ntest_app_android\\project\\tests\\test.py:395: in process_tariff_changes\n    test_plan.test_wait_tariff(app_pages, param)\ntest_app_android\\project\\tests\\test.py:246: in test_wait_tariff\n    self.app_pages.my_products.wait_changes_tariff(number, text)\ntest_app_android\\project\\pages\\myproducts_page.py:185: in wait_changes_tariff\n    self.my_products.wait_changes_tariff(number, text)\ntest_app_android\\project\\pages\\myproducts_page.py:14: in wait_changes_tariff\n    element = self.wait_for_element(AppiumBy.ANDROID_UIAUTOMATOR, f'new UiSelector().text(\"{number} {text}\")')\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <test_app_android.project.pages.myproducts_page.MyProductsPage object at 0x0000020B3888A660>, locator_type = '-android uiautomator', locator = 'new UiSelector().text(\"70 гб\")', timeout = 15\n\n    def wait_for_element(self, locator_type, locator, timeout=15):\n        try:\n            return WebDriverWait(self.driver, timeout).until(\n                EC.presence_of_element_located((locator_type, locator))\n            )\n        except Exception as e:\n            print(f'Не найден элемент с текстом \"{locator_type, locator}\"')\n            allure.attach(f\"Попытка найти элемент с текстом: '{locator_type, locator}'\", name=\"Детали поиска\", attachment_type=allure.attachment_type.TEXT)\n            screenshot = self.driver.get_screenshot_as_png()\n            allure.attach(screenshot, name=\"Скриншот\", attachment_type=allure.attachment_type.PNG)\n>           raise NoSuchElementException(f'Элемент с текстом \"{locator_type, locator}\" не найден')\nE           selenium.common.exceptions.NoSuchElementException: Message: Элемент с текстом \"('-android uiautomator', 'new UiSelector().text(\"70 гб\")')\" не найден; For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#no-such-element-exception\n\ntest_app_android\\project\\pages\\base_app.py:54: NoSuchElementException"}, "steps": [{"name": "Тест-кейс: смена тарифа \"Тариф UP\"", "status": "broken", "statusDetails": {"message": "selenium.common.exceptions.NoSuchElementException: Message: Элемент с текстом \"('-android uiautomator', 'new UiSelector().text(\"70 гб\")')\" не найден; For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#no-such-element-exception\n\n", "trace": "  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\tests\\test.py\", line 395, in process_tariff_changes\n    test_plan.test_wait_tariff(app_pages, param)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\tests\\test.py\", line 246, in test_wait_tariff\n    self.app_pages.my_products.wait_changes_tariff(number, text)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^\n  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\pages\\myproducts_page.py\", line 185, in wait_changes_tariff\n    self.my_products.wait_changes_tariff(number, text)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^\n  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\pages\\myproducts_page.py\", line 14, in wait_changes_tariff\n    element = self.wait_for_element(AppiumBy.ANDROID_UIAUTOMATOR, f'new UiSelector().text(\"{number} {text}\")')\n  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\pages\\base_app.py\", line 54, in wait_for_element\n    raise NoSuchElementException(f'Элемент с текстом \"{locator_type, locator}\" не найден')\n"}, "steps": [{"name": "Переход в каталог тарифов", "status": "passed", "steps": [{"name": "Клик по кнопке \"сменить тариф\"", "status": "passed", "start": 1737039878794, "stop": 1737039879470}], "start": 1737039878794, "stop": 1737039879470}, {"name": "Поиск и выбор тарифа \"Тариф UP\"", "status": "passed", "start": 1737039879470, "stop": 1737039880922}, {"name": "Ожидание загрузки страницы \"тариф up\"", "status": "passed", "attachments": [{"name": "screenshot", "source": "aead1397-6ba3-4533-9c33-4c4b4e64431f-attachment.png", "type": "image/png"}], "start": 1737039880922, "stop": 1737039886935}, {"name": "Выбираем ГБ \"70\"", "status": "passed", "attachments": [{"name": "screenshot", "source": "d19fd88e-a05b-4e0b-b5bd-53155d19dd8e-attachment.png", "type": "image/png"}], "start": 1737039886935, "stop": 1737039888363}, {"name": "Выбираем МИН \"1500\"", "status": "passed", "attachments": [{"name": "screenshot", "source": "fe72f5d2-a699-44e3-8f76-22693c969cc3-attachment.png", "type": "image/png"}], "start": 1737039888363, "stop": 1737039889891}, {"name": "Скролл страницы вниз", "status": "passed", "start": 1737039889891, "stop": 1737039892016}, {"name": "Проверяем стоимость \"Музыка\"", "status": "passed", "attachments": [{"name": "Значения цен", "source": "406056e2-67ee-4bd1-91fe-585932f6279a-attachment.txt", "type": "text/plain"}], "start": 1737039892016, "stop": 1737039894579}, {"name": "Проверяем стоимости на кнопке \"Продолжить\"", "status": "passed", "attachments": [{"name": "Значения цен", "source": "b9769f4d-2ae1-49d5-84bd-96e61638f8f9-attachment.txt", "type": "text/plain"}, {"name": "screenshot", "source": "5ae32195-2b82-4695-8d84-7beaa11e7cda-attachment.png", "type": "image/png"}], "start": 1737039894579, "stop": 1737039895627}, {"name": "Клик по кнопке \"подключить\"", "status": "passed", "steps": [{"name": "Клик по кнопке \"подключить\"", "status": "passed", "start": 1737039895627, "stop": 1737039895771}], "start": 1737039895627, "stop": 1737039895771}, {"name": "Ожидание чека \"Тариф UP\"", "status": "passed", "attachments": [{"name": "screenshot", "source": "4faed4ac-96af-458c-8e42-937a2c492e89-attachment.png", "type": "image/png"}], "start": 1737039895771, "stop": 1737039902333}, {"name": "Проверка стоимости мобильной связи", "status": "passed", "steps": [{"name": "Проверка описания мобильной связи в чеке", "status": "passed", "attachments": [{"name": "Детали поиска", "source": "633871e1-5eaf-4852-8d8a-c01617e76c5e-attachment.txt", "type": "text/plain"}, {"name": "Скриншот", "source": "fb30b1fd-3956-4303-8d39-a8be2c12c592-attachment.png", "type": "image/png"}, {"name": "Детали поиска", "source": "bc937404-2e36-4f61-a6c7-9d176d9b004d-attachment.txt", "type": "text/plain"}, {"name": "Скриншот", "source": "7ca7406b-bf66-49f4-831d-6f378f2baaf5-attachment.png", "type": "image/png"}, {"name": "Текст изменений тарифа в чеке", "source": "7d29e4c3-940f-44ea-8597-9c1c15a69618-attachment.txt", "type": "text/plain"}], "start": 1737039902333, "stop": 1737039903582}], "attachments": [{"name": "Значения цен", "source": "6a06e522-2d95-46b9-ba29-3f3c7b922301-attachment.txt", "type": "text/plain"}], "start": 1737039902333, "stop": 1737039903733}, {"name": "Ожидание чека \"Тариф UP\"", "status": "passed", "attachments": [{"name": "screenshot", "source": "accbb6ff-2c29-450e-ab1c-7c6c51ce43bc-attachment.png", "type": "image/png"}], "start": 1737039903733, "stop": 1737039904303}, {"name": "Проверка стоимости услуги \"Музыка\"", "status": "passed", "attachments": [{"name": "Значения цен", "source": "347198e1-9b00-4b27-a106-2b0554dcce9e-attachment.txt", "type": "text/plain"}], "start": 1737039904303, "stop": 1737039904571}, {"name": "Проверка стоимости элемента \"Разовый платеж\"", "status": "passed", "attachments": [{"name": "Значения цен", "source": "e4fd47b0-5962-4d7a-8e7a-3feb65e7bfc0-attachment.txt", "type": "text/plain"}], "start": 1737039904571, "stop": 1737039904924}, {"name": "Проверка стоимости на кнопке \"Оплатить\"", "status": "failed", "statusDetails": {"message": "AssertionError: Ошибка: неверное значение Оплатить, должно:1400, получено: 1600\n", "trace": "  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\pages\\check_page.py\", line 152, in button_price\n    assert ap == price, f'Ошибка: неверное значение {button}, должно:{price}, получено: {ap}'\n           ^^^^^^^^^^^\n"}, "attachments": [{"name": "Значения цен", "source": "ff835bcb-c5a6-4d18-9201-71636285df7c-attachment.txt", "type": "text/plain"}, {"name": "Скриншот", "source": "ea06375b-def7-419c-b5cd-72b0d3433f2b-attachment.png", "type": "image/png"}], "start": 1737039904924, "stop": 1737039905857}, {"name": "Клик по кнопке \"Оплатить\"", "status": "passed", "steps": [{"name": "Клик по кнопке \"Оплатить\"", "status": "passed", "start": 1737039905859, "stop": 1737039905967}], "start": 1737039905859, "stop": 1737039905967}, {"name": "Проверка страницы успеха", "status": "passed", "attachments": [{"name": "screenshot", "source": "0589b061-c26b-4d83-8593-20711c58d2c7-attachment.png", "type": "image/png"}], "start": 1737039905967, "stop": 1737039911984}, {"name": "Клик по кнопке понятно", "status": "passed", "steps": [{"name": "Клик по кнопке \"понятно\"", "status": "passed", "start": 1737039911984, "stop": 1737039912085}], "start": 1737039911984, "stop": 1737039912085}, {"name": "Ожидание изменения тарифа", "status": "broken", "statusDetails": {"message": "selenium.common.exceptions.NoSuchElementException: Message: Элемент с текстом \"('-android uiautomator', 'new UiSelector().text(\"70 гб\")')\" не найден; For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#no-such-element-exception\n\n", "trace": "  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\pages\\myproducts_page.py\", line 14, in wait_changes_tariff\n    element = self.wait_for_element(AppiumBy.ANDROID_UIAUTOMATOR, f'new UiSelector().text(\"{number} {text}\")')\n  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\pages\\base_app.py\", line 54, in wait_for_element\n    raise NoSuchElementException(f'Элемент с текстом \"{locator_type, locator}\" не найден')\n"}, "attachments": [{"name": "Детали поиска", "source": "1d850e00-18ee-40e4-a652-1197684d02fe-attachment.txt", "type": "text/plain"}, {"name": "Скриншот", "source": "543575fa-df25-4c16-825c-62eb481a9d27-attachment.png", "type": "image/png"}], "start": 1737039912085, "stop": 1737039928181}], "attachments": [{"name": "Ошибка", "source": "e3a4f66b-5bca-456e-99e0-f9905fb50108-attachment.txt", "type": "text/plain"}], "start": 1737039870940, "stop": 1737039928200}], "attachments": [{"name": "stdout", "source": "c4c60e5e-0508-4bdf-8bbd-d8aacd62d3e9-attachment.txt", "type": "text/plain"}], "start": 1737039870940, "stop": 1737039928202, "uuid": "88827ccf-563f-4ddb-99d2-47c2f90c1310", "historyId": "7e317dec957f8d84ca3cc6ce5c1ea4ff", "testCaseId": "7e317dec957f8d84ca3cc6ce5c1ea4ff", "fullName": "test_app_android.project.tests.test#test_smena_pr", "labels": [{"name": "feature", "value": "Тестирование тарифа UP"}, {"name": "parentSuite", "value": "test_app_android.project.tests"}, {"name": "suite", "value": "test"}, {"name": "host", "value": "DESKTOP-G72BB0H"}, {"name": "thread", "value": "6284-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_app_android.project.tests.test"}]}