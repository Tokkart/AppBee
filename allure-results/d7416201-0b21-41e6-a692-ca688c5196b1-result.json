{"name": "test_smena_pr", "status": "failed", "statusDetails": {"message": "AssertionError: Ошибка: кнопка \"Оплатить\" не найдена", "trace": "driver = <appium.webdriver.webdriver.WebDriver (session=\"8f8feaa6-0de2-49f5-98e0-480c94161941\")>, file_data = [{'balance': 2500, 'cycle': 'month', 'default': 'no', 'market': 'SCH', ...}]\napp_pages = <tests.conftest.app_pages.<locals>.Pages object at 0x000001E2E1608D70>\n\n    @allure.feature(\"Тестирование тарифа UP\")\n    def test_smena_pr(driver, file_data, app_pages):\n        \"\"\"\n        Запускает тесты на основе данных из файла.\n        \"\"\"\n        # for row in file_data:\n        #     execute_scenario(driver, row, app_pages)\n    \n        for row in file_data:\n>           process_tariff_changes(driver, row, app_pages)\n\ntest_app_android\\project\\tests\\test.py:316: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\ntest_app_android\\project\\tests\\test.py:440: in process_tariff_changes\n    test_plan.test_button_pay_click()\ntest_app_android\\project\\tests\\test.py:212: in test_button_pay_click\n    self.app_pages.check.button_pay_click()\ntest_app_android\\project\\pages\\check_page.py:218: in button_pay_click\n    self.check.button_pay_click()\ntest_app_android\\project\\pages\\check_page.py:177: in button_pay_click\n    self.button_click(name)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <test_app_android.project.pages.check_page.CheckPage object at 0x000001E2E189DFD0>, name = 'Оплатить'\n\n    def button_click(self, name):   #Клик по кнопке оплатить\n       with allure.step(f'Клик по кнопке \"{name}\"'):\n            try:\n                button = self.wait_for_element(AppiumBy.ANDROID_UIAUTOMATOR,f'new UiSelector().text(\"{name}\")')\n>               assert button, f'Ошибка: кнопка \"{name}\" не найдена'\nE               AssertionError: Ошибка: кнопка \"Оплатить\" не найдена\n\ntest_app_android\\project\\pages\\base_app.py:412: AssertionError"}, "description": "\nЗапускает тесты на основе данных из файла.\n", "steps": [{"name": "Тест-кейс: смена пресета \"Тариф UP\"", "status": "failed", "statusDetails": {"message": "AssertionError: Ошибка: кнопка \"Оплатить\" не найдена\n", "trace": "  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\tests\\test.py\", line 440, in process_tariff_changes\n    test_plan.test_button_pay_click()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\tests\\test.py\", line 212, in test_button_pay_click\n    self.app_pages.check.button_pay_click()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\pages\\check_page.py\", line 218, in button_pay_click\n    self.check.button_pay_click()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\pages\\check_page.py\", line 177, in button_pay_click\n    self.button_click(name)\n    ~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\pages\\base_app.py\", line 412, in button_click\n    assert button, f'Ошибка: кнопка \"{name}\" не найдена'\n           ^^^^^^\n"}, "steps": [{"name": "Переход в карточку тарифа", "status": "passed", "steps": [{"name": "Клик по кнопке \"настройки тарифа\"", "status": "passed", "start": 1736858245613, "stop": 1736858247001}], "start": 1736858245613, "stop": 1736858247001}, {"name": "Ожидание загрузки страницы \"тариф up\"", "status": "passed", "start": 1736858247001, "stop": 1736858254097}, {"name": "Выбираем ГБ \"6\"", "status": "passed", "attachments": [{"name": "screenshot", "source": "f3962de4-b175-47ce-9fcf-c33444324125-attachment.png", "type": "image/png"}], "start": 1736858254097, "stop": 1736858255507}, {"name": "Выбираем МИН \"300\"", "status": "passed", "attachments": [{"name": "screenshot", "source": "2feb4fad-2f1d-4dfa-95cf-982e374486d3-attachment.png", "type": "image/png"}], "start": 1736858255507, "stop": 1736858259500}, {"name": "Скролл страницы вниз", "status": "passed", "start": 1736858259500, "stop": 1736858261611}, {"name": "Клик по тогглу \"Сервисы Яндекс\"", "status": "passed", "steps": [{"name": "Клик по кнопке \"Сервисы Яндекс\"", "status": "passed", "start": 1736858263490, "stop": 1736858263549}], "start": 1736858261611, "stop": 1736858263549}, {"name": "Проверяем стоимость \"Сервисы Яндекс\"", "status": "passed", "attachments": [{"name": "Значения цен", "source": "a6015f7e-315c-4006-be89-1440e62cf045-attachment.txt", "type": "text/plain"}], "start": 1736858263549, "stop": 1736858265371}, {"name": "Проверяем стоимости на кнопке \"Продолжить\"", "status": "passed", "attachments": [{"name": "Значения цен", "source": "2ff87c9d-5c6c-4476-a8ef-141bda221e3e-attachment.txt", "type": "text/plain"}, {"name": "screenshot", "source": "ced3eeac-9a98-411a-9e20-1208efaa087c-attachment.png", "type": "image/png"}], "start": 1736858265371, "stop": 1736858266340}, {"name": "Клик по кнопке \"Продолжить\"", "status": "passed", "steps": [{"name": "Клик по кнопке \"Продолжить\"", "status": "passed", "start": 1736858266340, "stop": 1736858266482}], "start": 1736858266340, "stop": 1736858266482}, {"name": "Ожидание страницы предчека", "status": "passed", "attachments": [{"name": "screenshot", "source": "6193e7f2-9662-4f41-9a47-64e8c8190015-attachment.png", "type": "image/png"}], "start": 1736858266482, "stop": 1736858270862}, {"name": "Проверка описания изменений тарифа в предчеке", "status": "failed", "statusDetails": {"message": "AssertionError: Ошибка: текст не совпадает\nДолжно: 'Сейчас будут предоставлены новые 6 ГБ и 300 минут, и спишется плата за 30 дней в размере 739 ₽.'\nПолученное: 'Остаток текущего пакета ГБ и минут будет доступен до 13 февраля.\\r\\nС 13 февраля будут предоставлены новые 6 ГБ и 300 минут. Стоимость тарифа составит 739 ₽/мес.'\n", "trace": "  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\pages\\precheck_page.py\", line 50, in changing_tariff\n    assert str(name) == str(element), f'Ошибка: текст не совпадает\\nДолжно: {repr(name)}\\nПолученное: {repr(element)}'\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n"}, "attachments": [{"name": "Текст изменений тарифа", "source": "3170e0ef-4966-45ec-827d-abc1b25d596c-attachment.txt", "type": "text/plain"}, {"name": "Ошибка, при проверке текста изменений тарифа", "source": "72057cfd-0dfb-4e0a-924e-06472facefcd-attachment.txt", "type": "text/plain"}, {"name": "Скриншот", "source": "cbad7840-8bc9-4b80-9a86-d268b7401fa0-attachment.png", "type": "image/png"}], "start": 1736858270862, "stop": 1736858271476}, {"name": "Переход в чек", "status": "passed", "start": 1736858271478, "stop": 1736858271580}, {"name": "Ожидание чека \"Тариф UP\"", "status": "passed", "start": 1736858271580, "stop": 1736858272188}, {"name": "Проверка описания мобильной связи в чеке", "status": "failed", "statusDetails": {"message": "AssertionError: Ошибка: текст не совпадает\nДолжно: '6 ГБ и 300 минут'\nПолученное: 'Новые условия с 13 февраля —\\r\\n6 ГБ и 300 минут'\n", "trace": "  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\pages\\check_page.py\", line 61, in mobil_text\n    assert str(generate_text) == str(mobil_text), f'Ошибка: текст не совпадает\\nДолжно: {repr(generate_text)}\\nПолученное: {repr(mobil_text)}'\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n"}, "attachments": [{"name": "Текст изменений тарифа в чеке", "source": "77c19350-d1ef-4d7e-8610-dfdc6951dc4f-attachment.txt", "type": "text/plain"}, {"name": "Ошибка, при проверке текста изменений тарифа", "source": "7cd2c0af-21d9-49df-8bfd-9c221751a548-attachment.txt", "type": "text/plain"}, {"name": "Скриншот", "source": "4eae8394-7ea1-49c6-9086-a04e42af69ca-attachment.png", "type": "image/png"}], "start": 1736858272188, "stop": 1736858272771}, {"name": "Ожидание чека \"Тариф UP\"", "status": "passed", "start": 1736858272773, "stop": 1736858272814}, {"name": "Проверка стоимости услуги \"Сервисы Яндекс\"", "status": "broken", "statusDetails": {"message": "TypeError: float() argument must be a string or a real number, not 'NoneType'\n", "trace": "  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\pages\\check_page.py\", line 37, in dtm_price\n    assert float(dtm) == price, f'Ошибка: неверное значение {name},должно:{price}, получено: {dtm}'\n           ~~~~~^^^^^\n"}, "attachments": [{"name": "Значения цен", "source": "02dd0044-c52a-475b-9fe6-5f7852588ca2-attachment.txt", "type": "text/plain"}, {"name": "Непредвиденная ошибка", "source": "acbd3c59-8d3a-4ac9-a04e-328d35f1b649-attachment.txt", "type": "text/plain"}, {"name": "Скриншот", "source": "66e2ecb4-0ae7-4d57-bc9a-435e36e3ed3e-attachment.png", "type": "image/png"}], "start": 1736858272814, "stop": 1736858273376}, {"name": "Проверка описания в тултипе info", "status": "failed", "statusDetails": {"message": "AssertionError: Ошибка: текст не совпадает\nДолжно: 'Сейчас будут предоставлены новые 6 ГБ и 300 минут, и спишется плата за 30 дней в размере 739 ₽.'\nПолученное: 'Остаток текущего пакета ГБ и минут будет доступен до 13 февраля.\\r\\nС 13 февраля будут предоставлены новые 6 ГБ и 300 минут. Стоимость тарифа составит 739 ₽/мес.'\n", "trace": "  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\pages\\check_page.py\", line 121, in info_text\n    assert str(name) == str(element), f'Ошибка: текст не совпадает\\nДолжно: {repr(name)}\\nПолученное: {repr(element)}'\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n"}, "attachments": [{"name": "screenshot", "source": "20c865e7-9542-4be3-b79c-35ffef11d443-attachment.png", "type": "image/png"}, {"name": "Текст изменений тарифа", "source": "17da39ce-48f7-4f9a-826d-6bdbf34d7b0c-attachment.txt", "type": "text/plain"}, {"name": "Ошибка, при проверке текста изменений тарифа", "source": "6371f5e2-689f-4ad8-a9fa-8defc9384b82-attachment.txt", "type": "text/plain"}, {"name": "Скриншот", "source": "0bee4b19-11ff-43a1-8b9e-7c836d49c8cc-attachment.png", "type": "image/png"}], "start": 1736858273377, "stop": 1736858275142}, {"name": "Клик по кнопке \"понятно\"", "status": "passed", "steps": [{"name": "Клик по кнопке \"понятно\"", "status": "passed", "start": 1736858275143, "stop": 1736858275228}], "start": 1736858275143, "stop": 1736858275228}, {"name": "Проверка стоимости на кнопке \"Оплатить\"", "status": "broken", "statusDetails": {"message": "TypeError: float() argument must be a string or a real number, not 'NoneType'\n", "trace": "  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\pages\\check_page.py\", line 144, in button_price\n    assert float(ap) == price, f'Ошибка: неверное значение {button}, должно:{price}, получено: {ap}'\n           ~~~~~^^^^\n"}, "attachments": [{"name": "Значения цен", "source": "5f1ef384-4d49-4655-ba7d-ef3dc8718bc2-attachment.txt", "type": "text/plain"}, {"name": "Непредвиденная ошибка", "source": "c0c01da2-3b84-4a57-a267-5f65b761c677-attachment.txt", "type": "text/plain"}, {"name": "Скриншот", "source": "116d9efe-435e-46a9-83e7-598cfd40ec82-attachment.png", "type": "image/png"}], "start": 1736858275228, "stop": 1736858291077}, {"name": "Клик по кнопке \"Оплатить\"", "status": "failed", "statusDetails": {"message": "AssertionError: Ошибка: кнопка \"Оплатить\" не найдена\n", "trace": "  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\pages\\check_page.py\", line 177, in button_pay_click\n    self.button_click(name)\n    ~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\pages\\base_app.py\", line 412, in button_click\n    assert button, f'Ошибка: кнопка \"{name}\" не найдена'\n           ^^^^^^\n"}, "steps": [{"name": "Клик по кнопке \"Оплатить\"", "status": "failed", "statusDetails": {"message": "AssertionError: Ошибка: кнопка \"Оплатить\" не найдена\n", "trace": "  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\pages\\base_app.py\", line 412, in button_click\n    assert button, f'Ошибка: кнопка \"{name}\" не найдена'\n           ^^^^^^\n"}, "attachments": [{"name": "Ошибка сравнения цен", "source": "9aa383c2-ce11-4ea0-b72a-262112900215-attachment.txt", "type": "text/plain"}, {"name": "Скриншот", "source": "3cc44f5e-b2f8-4d84-98f9-e4cb981fd28d-attachment.png", "type": "image/png"}], "start": 1736858291079, "stop": 1736858307071}], "start": 1736858291079, "stop": 1736858307072}], "attachments": [{"name": "Ошибка", "source": "8a1a3f8b-bcb2-40ca-9220-8e394bb20315-attachment.txt", "type": "text/plain"}, {"name": "Ошибка", "source": "25b2fa56-9c54-4657-a10b-6e29eca952aa-attachment.txt", "type": "text/plain"}, {"name": "Ошибка", "source": "40a0fe9c-62a9-4dfb-8f08-bef622add726-attachment.txt", "type": "text/plain"}, {"name": "Ошибка", "source": "7c7326a2-7b84-4c4a-80d4-335c23992acb-attachment.txt", "type": "text/plain"}, {"name": "Ошибка", "source": "092b4b8e-48d9-43ce-84ee-2bc112f6df89-attachment.txt", "type": "text/plain"}], "start": 1736858244568, "stop": 1736858307073}], "attachments": [{"name": "stdout", "source": "1be43be7-8cdc-4c91-b6b4-58e10f6f7417-attachment.txt", "type": "text/plain"}], "start": 1736858244568, "stop": 1736858307075, "uuid": "b4e05bf5-a03c-41c8-a667-cfb1a4f04602", "historyId": "7e317dec957f8d84ca3cc6ce5c1ea4ff", "testCaseId": "7e317dec957f8d84ca3cc6ce5c1ea4ff", "fullName": "test_app_android.project.tests.test#test_smena_pr", "labels": [{"name": "feature", "value": "Тестирование тарифа UP"}, {"name": "parentSuite", "value": "test_app_android.project.tests"}, {"name": "suite", "value": "test"}, {"name": "host", "value": "DESKTOP-G72BB0H"}, {"name": "thread", "value": "6528-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_app_android.project.tests.test"}]}