{"name": "test_smena_pr", "status": "broken", "statusDetails": {"message": "TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'", "trace": "driver = <appium.webdriver.webdriver.WebDriver (session=\"5e0ca844-5df0-46f1-84f9-6e4f376dab55\")>\nfile_data = [{'balance': 2500, 'default': 'yes', 'market': 'SCH', 'new_gb_soc': nan, ...}, {'balance': 2500, 'default': 'no', 'market': 'SCH', 'new_gb_soc': nan, ...}]\napp_pages = <tests.conftest.app_pages.<locals>.Pages object at 0x000002A709D98D70>\n\n    @allure.feature(\"Тестирование тарифа UP\")\n    def test_smena_pr(driver, file_data, app_pages):\n        \"\"\"\n        Запускает тесты на основе данных из файла.\n        \"\"\"\n        # for row in file_data:\n        #     execute_scenario(driver, row, app_pages)\n    \n        for row in file_data:\n>           process_tariff_changes(driver, row, app_pages)\n\ntest_app_android\\project\\tests\\test.py:275: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\ntest_app_android\\project\\tests\\test.py:354: in process_tariff_changes\n    test_plan.test_select_data()\ntest_app_android\\project\\tests\\test.py:106: in test_select_data\n    self.app_pages.tariff_up.select_gb(self.value_gb)\ntest_app_android\\project\\pages\\tariff_up_page.py:106: in select_gb\n    self.up.gb(value_gb)\ntest_app_android\\project\\pages\\tariff_up_page.py:24: in gb\n    self.find_element_with_swipe(value, name)\ntest_app_android\\project\\pages\\base_app.py:445: in find_element_with_swipe\n    number_to_click = self.find_number_to_click(gb_y, value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <test_app_android.project.pages.tariff_up_page.TariffUpPage object at 0x000002A70A032900>, gb_y = None, value_gb = 50\n\n    def find_number_to_click(self, gb_y, value_gb):\n        # Находим все элементы с текстом, которые являются числами\n        numbers = self.find_elements(AppiumBy.ANDROID_UIAUTOMATOR, f'new UiSelector().text(\"{value_gb}\")')\n        # Ищем нужное число\n        for num in numbers:\n            num_text = num.text\n            num_bounds = num.get_attribute('bounds')\n            num_y = self.extract_y_from_bounds(num_bounds)\n            # Проверяем, находится ли элементы с ГБ на одном уровне по Y\n>           if abs(gb_y - num_y) < 40:\nE           TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'\n\ntest_app_android\\project\\pages\\base_app.py:249: TypeError"}, "description": "\nЗапускает тесты на основе данных из файла.\n", "steps": [{"name": "Тест-кейс: смена тарифа \"Тариф UP\"", "status": "passed", "steps": [{"name": "Переход в каталог тарифов", "status": "passed", "steps": [{"name": "Клик по кнопке \"сменить тариф\"", "status": "passed", "start": 1736412753463, "stop": 1736412755441}], "start": 1736412753463, "stop": 1736412755441}, {"name": "Поиск и выбор тарифа \"Тариф UP\"", "status": "passed", "start": 1736412755441, "stop": 1736412756200}, {"name": "Ожидание загрузки страницы \"тариф up\"", "status": "passed", "start": 1736412756200, "stop": 1736412760565}, {"name": "Проверяем стоимости на кнопке \"Продолжить\"", "status": "passed", "attachments": [{"name": "Значения цен", "source": "641fabf6-3718-4ef0-949f-501519afe891-attachment.txt", "type": "text/plain"}, {"name": "screenshot", "source": "7656894c-c2e6-4c47-875a-53f38e669b31-attachment.png", "type": "image/png"}], "start": 1736412760566, "stop": 1736412761518}, {"name": "Клик по кнопке \"подключить\"", "status": "passed", "steps": [{"name": "Клик по кнопке \"подключить\"", "status": "passed", "start": 1736412761518, "stop": 1736412762252}], "start": 1736412761518, "stop": 1736412762252}, {"name": "Ожидание чека \"Тариф UP\"", "status": "passed", "start": 1736412762252, "stop": 1736412772634}, {"name": "Проверка стоимости мобильной связи", "status": "passed", "steps": [{"name": "Проверка описания мобильной связи в чеке", "status": "passed", "attachments": [{"name": "Текст изменений тарифа в чеке", "source": "7768f0f4-2dab-4487-b956-f859754bdbdb-attachment.txt", "type": "text/plain"}], "start": 1736412772634, "stop": 1736412772765}], "attachments": [{"name": "Значения цен", "source": "4059ee04-4d98-48ca-a0a4-69fd01c5b2e7-attachment.txt", "type": "text/plain"}], "start": 1736412772634, "stop": 1736412772930}, {"name": "Проверка стоимости элемента \"Разовый платеж\"", "status": "passed", "attachments": [{"name": "Значения цен", "source": "eb586728-186f-43f3-b07c-6a8031a8bd52-attachment.txt", "type": "text/plain"}], "start": 1736412772930, "stop": 1736412773277}, {"name": "Проверка стоимости на кнопке \"Оплатить\"", "status": "passed", "attachments": [{"name": "Значения цен", "source": "c16993f1-093a-4729-83a9-a6f74373759e-attachment.txt", "type": "text/plain"}], "start": 1736412773277, "stop": 1736412773724}, {"name": "Клик по кнопке \"Оплатить\"", "status": "passed", "steps": [{"name": "Клик по кнопке \"Оплатить\"", "status": "passed", "start": 1736412773724, "stop": 1736412773812}], "start": 1736412773724, "stop": 1736412773812}, {"name": "Проверка страницы успеха", "status": "passed", "attachments": [{"name": "screenshot", "source": "b31873fd-874f-4a71-8b2c-a85918b1f351-attachment.png", "type": "image/png"}], "start": 1736412773812, "stop": 1736412779795}, {"name": "Клик по кнопке понятно", "status": "passed", "steps": [{"name": "Клик по кнопке \"понятно\"", "status": "passed", "start": 1736412779795, "stop": 1736412779899}], "start": 1736412779795, "stop": 1736412779899}, {"name": "Переход на стартовую страницу", "status": "passed", "start": 1736412779899, "stop": 1736412786356}, {"name": "Ожидание изменения тарифа", "status": "passed", "attachments": [{"name": "screenshot", "source": "f2d35160-7e02-4a38-bb3f-ce9d48455043-attachment.png", "type": "image/png"}], "start": 1736412786356, "stop": 1736412793230}, {"name": "Проверка стоимости тарифа", "status": "failed", "statusDetails": {"message": "AssertionError: Ошибка: неверное значение АП,должно:790\n", "trace": "  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\pages\\myproducts_page.py\", line 48, in ap\n    assert result == number, f'Ошибка: неверное значение {name},должно:{number}'\n           ^^^^^^^^^^^^^^^^\n"}, "attachments": [{"name": "Значения цен", "source": "f8b179fa-de26-4a79-8643-151e9ce07d74-attachment.txt", "type": "text/plain"}, {"name": "Ошибка сравнения цен", "source": "d456ce4d-dc47-4398-9674-01effb0439a4-attachment.txt", "type": "text/plain"}, {"name": "Скриншот", "source": "a09e7f46-9a74-4ece-b53c-624dbc611a3b-attachment.png", "type": "image/png"}], "start": 1736412793230, "stop": 1736412794336}, {"name": "Проверка начисленных гигабайт", "status": "failed", "statusDetails": {"message": "AssertionError: Ошибка: неверное значение ГБ,должно:35, получено: 2\n", "trace": "  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\pages\\myproducts_page.py\", line 65, in gb\n    assert result == number, f'Ошибка: неверное значение {name},должно:{number}, получено: {result}'\n           ^^^^^^^^^^^^^^^^\n"}, "attachments": [{"name": "Значения цен", "source": "c7d37b68-bf48-4ed5-ab2e-39f25b22aa6a-attachment.txt", "type": "text/plain"}, {"name": "Ошибка сравнения", "source": "8be911c1-28d2-434b-b2d7-903e66852073-attachment.txt", "type": "text/plain"}, {"name": "Скриншот", "source": "e18dbc17-978d-4f75-a034-ea1f267256ab-attachment.png", "type": "image/png"}], "start": 1736412794338, "stop": 1736412795007}, {"name": "Проверка начисленных минут", "status": "broken", "statusDetails": {"message": "TypeError: int() argument must be a string, a bytes-like object or a real number, not 'NoneType'\n", "trace": "  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\pages\\myproducts_page.py\", line 79, in min\n    result = int(self.find_text_part_element(text_part))\n"}, "start": 1736412795008, "stop": 1736412795099}, {"name": "Проверка названия тарифа \"Тариф UP\"", "status": "broken", "statusDetails": {"message": "AttributeError: 'NoneType' object has no attribute 'text'\n", "trace": "  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\pages\\myproducts_page.py\", line 95, in name\n    result = self.get_element_by_text(name).text\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n"}, "start": 1736412795100, "stop": 1736412795162}, {"name": "Проверка даты следующего списания", "status": "failed", "statusDetails": {"message": "AssertionError: Ошибка: неверное значение Даты,должно:08февраля, получено: 8февраля\n", "trace": "  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\pages\\myproducts_page.py\", line 115, in data\n    assert result == data.replace(\" \", \"\"), f'Ошибка: неверное значение {name},должно:{data.replace(\" \", \"\")}, получено: {result}'\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n"}, "attachments": [{"name": "Дата", "source": "a966e1fd-f087-474c-aaea-19b971497ff9-attachment.txt", "type": "text/plain"}, {"name": "Ошибка сравнения", "source": "c82e992b-f5fc-4e6a-8f1b-1577dd88f762-attachment.txt", "type": "text/plain"}, {"name": "Скриншот", "source": "124f3347-b123-4b54-babe-374a19d08298-attachment.png", "type": "image/png"}], "start": 1736412795164, "stop": 1736412795870}], "attachments": [{"name": "Ошибка", "source": "812dbf71-4fa2-4b3a-b9b7-4ffb4ccc8fb2-attachment.txt", "type": "text/plain"}, {"name": "Ошибка", "source": "8af68a13-da9e-4c74-9693-8933ed798046-attachment.txt", "type": "text/plain"}, {"name": "Ошибка", "source": "acbcbbd3-7f9f-4412-bf33-264f4288fbaa-attachment.txt", "type": "text/plain"}, {"name": "Ошибка", "source": "f7427125-446e-4b2f-87a7-783112f77abd-attachment.txt", "type": "text/plain"}, {"name": "Ошибка", "source": "e5f56cb8-6de5-4f92-a6c2-ea6aea18180b-attachment.txt", "type": "text/plain"}], "start": 1736412752416, "stop": 1736412795872}, {"name": "Переход в карточку тарифа", "status": "passed", "steps": [{"name": "Клик по кнопке \"настройки тарифа\"", "status": "passed", "start": 1736412796494, "stop": 1736412797879}], "start": 1736412796494, "stop": 1736412797879}, {"name": "Ожидание загрузки страницы \"тариф up\"", "status": "passed", "attachments": [{"name": "Ошибка загрузки страницы", "source": "21ddf865-9791-481c-9f1f-69bb026346a4-attachment.txt", "type": "text/plain"}, {"name": "Скриншот", "source": "294252ff-40f6-4be2-9c52-c7f180921984-attachment.png", "type": "image/png"}], "start": 1736412797879, "stop": 1736412813826}, {"name": "Выбираем ГБ \"50\"", "status": "broken", "statusDetails": {"message": "TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'\n", "trace": "  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\pages\\tariff_up_page.py\", line 24, in gb\n    self.find_element_with_swipe(value, name)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^\n  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\pages\\base_app.py\", line 445, in find_element_with_swipe\n    number_to_click = self.find_number_to_click(gb_y, value)\n  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\pages\\base_app.py\", line 249, in find_number_to_click\n    if abs(gb_y - num_y) < 40:\n           ~~~~~^~~~~~~\n"}, "start": 1736412813826, "stop": 1736412814007}], "attachments": [{"name": "stdout", "source": "111f2e0c-256d-48b0-86cf-7feb916dccae-attachment.txt", "type": "text/plain"}], "start": 1736412752416, "stop": 1736412814009, "uuid": "94f4e5e4-c8b7-415e-bb67-9d29d6704786", "historyId": "7e317dec957f8d84ca3cc6ce5c1ea4ff", "testCaseId": "7e317dec957f8d84ca3cc6ce5c1ea4ff", "fullName": "test_app_android.project.tests.test#test_smena_pr", "labels": [{"name": "feature", "value": "Тестирование тарифа UP"}, {"name": "parentSuite", "value": "test_app_android.project.tests"}, {"name": "suite", "value": "test"}, {"name": "host", "value": "DESKTOP-G72BB0H"}, {"name": "thread", "value": "6436-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_app_android.project.tests.test"}]}