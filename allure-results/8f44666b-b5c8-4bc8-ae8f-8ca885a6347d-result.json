{"name": "test_smena_pr", "status": "broken", "statusDetails": {"message": "TypeError: unsupported operand type(s) for -: 'float' and 'NoneType'", "trace": "driver = <appium.webdriver.webdriver.WebDriver (session=\"63ace699-8bc1-4bb2-a9bb-5568997ec9e4\")>\nfile_data = [{'balance': 2500, 'default': 'yes', 'market': 'SCH', 'new_gb_soc': nan, ...}, {'balance': 2500, 'default': 'no', 'market': 'SCH', 'new_gb_soc': nan, ...}]\napp_pages = <tests.conftest.app_pages.<locals>.Pages object at 0x000001AA7F7F8D70>\n\n    @allure.feature(\"Тестирование тарифа UP\")\n    def test_smena_pr(driver, file_data, app_pages):\n        \"\"\"\n        Запускает тесты на основе данных из файла.\n        \"\"\"\n        # for row in file_data:\n        #     execute_scenario(driver, row, app_pages)\n    \n        for row in file_data:\n>           process_tariff_changes(driver, row, app_pages)\n\ntest_app_android\\project\\tests\\test.py:278: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\ntest_app_android\\project\\tests\\test.py:294: in process_tariff_changes\n    test_plan.test_select_tariff(app_pages)\ntest_app_android\\project\\tests\\test.py:101: in test_select_tariff\n    self.app_pages.list.go_tariff(self.name_tp)\ntest_app_android\\project\\pages\\tariff_list_page.py:43: in go_tariff\n    self.list.go_tariff(name)\ntest_app_android\\project\\pages\\tariff_list_page.py:19: in go_tariff\n    tariff = self.find_nearby_element(name, class_name = \"android.widget.Button\", y_coordinate = 500, direction='below')\ntest_app_android\\project\\pages\\base_app.py:387: in find_nearby_element\n    nearby_element = self.find_element_by_y(element, class_name, y_coordinate, direction)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <test_app_android.project.pages.tariff_list_page.ListPage object at 0x000001AA7FA8BCB0>, parent = '[120,501][324,553]', class_name = 'android.widget.Button', max_distance = 500, direction = 'below'\n\n    def find_element_by_y(self, parent, class_name, max_distance, direction):\n        \"\"\"\n        Ищет элемент по оси Y рядом с parent элементом.\n    \n        Args:\n        - parent: Элемент, рядом с которым нужно искать.\n        - class_name: Имя класса искомых элементов.\n        - max_distance: Максимальное расстояние в пикселях.\n        - direction: Направление поиска ('above' для поиска сверху, 'below' для поиска снизу).\n    \n        Returns:\n        - Найденный элемент или None, если элемент не найден.\n        \"\"\"\n        # Находим все элементы с заданным классом\n        find_elements = self.find_elements(AppiumBy.ANDROID_UIAUTOMATOR, f'new UiSelector().className(\"{class_name}\")')\n    \n        parent_bounds = self.get_element_bounds(parent)\n        parent_y = self.extract_y_from_bounds(parent_bounds)\n    \n        for element in find_elements:\n            element_bounds = self.get_element_bounds(element)\n            element_y = self.extract_y_from_bounds(element_bounds)\n    \n            if direction == 'above' and 0 < parent_y - element_y <= max_distance:\n                print(f'Найден элемент сверху с координатами {element_bounds}')\n                return element\n>           elif direction == 'below' and 0 < element_y - parent_y <= max_distance:\nE           TypeError: unsupported operand type(s) for -: 'float' and 'NoneType'\n\ntest_app_android\\project\\pages\\base_app.py:295: TypeError"}, "description": "\nЗапускает тесты на основе данных из файла.\n", "steps": [{"name": "Тест-кейс: смена тарифа \"Тариф UP\"", "status": "broken", "statusDetails": {"message": "TypeError: unsupported operand type(s) for -: 'float' and 'NoneType'\n", "trace": "  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\tests\\test.py\", line 294, in process_tariff_changes\n    test_plan.test_select_tariff(app_pages)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^\n  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\tests\\test.py\", line 101, in test_select_tariff\n    self.app_pages.list.go_tariff(self.name_tp)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^\n  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\pages\\tariff_list_page.py\", line 43, in go_tariff\n    self.list.go_tariff(name)\n    ~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\pages\\tariff_list_page.py\", line 19, in go_tariff\n    tariff = self.find_nearby_element(name, class_name = \"android.widget.Button\", y_coordinate = 500, direction='below')\n  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\pages\\base_app.py\", line 387, in find_nearby_element\n    nearby_element = self.find_element_by_y(element, class_name, y_coordinate, direction)\n  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\pages\\base_app.py\", line 295, in find_element_by_y\n    elif direction == 'below' and 0 < element_y - parent_y <= max_distance:\n                                      ~~~~~~~~~~^~~~~~~~~~\n"}, "steps": [{"name": "Переход в каталог тарифов", "status": "passed", "steps": [{"name": "Клик по кнопке \"сменить тариф\"", "status": "passed", "start": 1736418760184, "stop": 1736418760995}], "start": 1736418760184, "stop": 1736418760995}, {"name": "Поиск и выбор тарифа \"Тариф UP\"", "status": "broken", "statusDetails": {"message": "TypeError: unsupported operand type(s) for -: 'float' and 'NoneType'\n", "trace": "  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\pages\\tariff_list_page.py\", line 19, in go_tariff\n    tariff = self.find_nearby_element(name, class_name = \"android.widget.Button\", y_coordinate = 500, direction='below')\n  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\pages\\base_app.py\", line 387, in find_nearby_element\n    nearby_element = self.find_element_by_y(element, class_name, y_coordinate, direction)\n  File \"C:\\Users\\verli\\IdeaProjects\\AppBee\\test_app_android\\project\\pages\\base_app.py\", line 295, in find_element_by_y\n    elif direction == 'below' and 0 < element_y - parent_y <= max_distance:\n                                      ~~~~~~~~~~^~~~~~~~~~\n"}, "start": 1736418760995, "stop": 1736418761750}], "start": 1736418751951, "stop": 1736418761751}], "attachments": [{"name": "stdout", "source": "e40b2a16-88b7-477e-a347-cefec8e5577f-attachment.txt", "type": "text/plain"}], "start": 1736418751951, "stop": 1736418761754, "uuid": "121c0651-d670-43b2-aeff-38fb48c0047d", "historyId": "7e317dec957f8d84ca3cc6ce5c1ea4ff", "testCaseId": "7e317dec957f8d84ca3cc6ce5c1ea4ff", "fullName": "test_app_android.project.tests.test#test_smena_pr", "labels": [{"name": "feature", "value": "Тестирование тарифа UP"}, {"name": "parentSuite", "value": "test_app_android.project.tests"}, {"name": "suite", "value": "test"}, {"name": "host", "value": "DESKTOP-G72BB0H"}, {"name": "thread", "value": "16280-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_app_android.project.tests.test"}]}